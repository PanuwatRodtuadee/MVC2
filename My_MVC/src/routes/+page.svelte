<script>
  export let data;
</script>

<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>üì¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡∏∑‡∏≠</h1>
    <a href="/dashboard" class="btn btn-warning">‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard</a>
  </div>

  <table class="table table-hover table-bordered shadow-sm">
    <thead class="table-dark">
      <tr>
        <th>‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πà‡∏≤‡∏ß</th>
        <th>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß</th>
        <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
        <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠</th>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏à‡πâ‡∏á</th>
        <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
      </tr>
    </thead>
    <tbody>
      {#each data.rumors as r}
        <tr class="{r.is_verified ? 'table-success' : (r.status === 'panic' ? 'table-danger' : '')}">
          <td>{r.id}</td>
          <td>{r.title}</td>
          <td>
            {#if r.is_verified}
              <span class="badge bg-success">‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß</span>
            {:else}
              <span class="badge {r.status === 'panic' ? 'bg-danger' : 'bg-secondary'}">
                {r.status}
              </span>
            {/if}
          </td>
          <td>{r.credibility_score}%</td>
          <td>{r._count.reports} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</td>
          <td>
            <a href="/rumor/{r.id}" class="btn btn-sm btn-primary">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
          </td>
        </tr>
      {/each}
    </tbody>
  </table>
</div>